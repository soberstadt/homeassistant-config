- platform: darksky
  api_key: !secret darksky
  monitored_conditions:
    - summary
    - apparent_temperature
    - temperature
    - humidity
  update_inverval:
    minutes: 30

- platform: speedtest
  monitored_conditions:
    - ping
    - download

- platform: mqtt
  state_topic: "/devices/mqtt_arrow_2/events"
  name: "Arrow 2 Humidity"
  unit_of_measurement: "%"
  value_template: '{{ value_json.humidity | round(1) }}'

- platform: mqtt
  state_topic: "/devices/mqtt_arrow_2/events"
  name: "Arrow 2 Temperature"
  unit_of_measurement: "°C"
  value_template: '{{ value_json.temperature | round(1) }}'

- platform: mqtt
  state_topic: "/devices/mqtt_arrow_2/events"
  name: "Arrow 2 Real Feel"
  unit_of_measurement: "°F"
  value_template: '{{ value_json.heat_index | round(1) }}'

- platform: mqtt
  state_topic: "/devices/mqtt_arrow_2/events"
  name: "Arrow 2 LDR"
  unit_of_measurement: "LUX"
  value_template: '{{ value_json.lux }}'

- platform: mqtt
  state_topic: "/devices/mqtt_arrow_1/events"
  name: "Arrow 1 Motion"
  value_template: '{{ value_json.motion }}'

- platform: mqtt
  state_topic: "/devices/mqtt_arrow_3/state"
  name: "Garage Distance"
  unit_of_measurement: "cm"
  value_template: '{{ value_json.distance }}'

- platform: filter
  name: "filtered garage distance"
  entity_id: sensor.garage_distance
  filters:
    - filter: outlier
      window_size: 4
      radius: 4.0
    - filter: lowpass
      time_constant: 10
      precision: 0
